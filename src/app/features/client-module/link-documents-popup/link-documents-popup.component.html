<div class="modal-backdrop">
  <div class="modal-content fullscreen">
    <h2 class="modal-title"><i class="fas fa-edit"></i> Add Client Document</h2>
    <button class="close-btn" type="button" (click)="onClose()">&times;</button>
    <div class="modal-scroll-content">
    <form
      [formGroup]="documentForm"
      (ngSubmit)="onSubmit()"
      class="form-container"
    >
      <!-- Document Type Dropdown -->
      <div class="form-row">
        <div class="form-field">
          <label>Document Type <span class="required">*</span></label>
          <ng-select
            [items]="documentTypes"
            bindLabel="Description"
            bindValue="DocumentTypeId"
            formControlName="DocumentTypeId"
            [searchable]="true"
            [clearable]="true"
            [closeOnSelect]="true"
            placeholder="Select Document Type"
          ></ng-select>
          <div
            class="error-msg"
            *ngIf="
              formControl['DocumentTypeId'].touched &&
              formControl['DocumentTypeId'].invalid
            "
          >
            <small *ngIf="formControl['DocumentTypeId'].errors?.['required']"
              >Document Type is required.</small
            >
          </div>
        </div>
      </div>

      <!-- Note -->
      <div class="form-row">
        <div class="form-field">
          <label>Note <span class="required">*</span></label>
          <p-editor
            formControlName="Note"
            [style]="{ height: '200px' }"
            [modules]="editorModules"
          >
          </p-editor>
          <div
            class="error-msg"
            *ngIf="formControl['Note'].touched && formControl['Note'].invalid"
          >
            <small *ngIf="formControl['Note'].errors?.['required']"
              >Note is required.</small
            >
          </div>
        </div>
      </div>

      <!-- List Rank -->
      <div class="form-row">
        <label for="ListRank">List Rank</label>
        <input
          id="ListRank"
          type="number"
          formControlName="ListRank"
          class="form-control"
          placeholder="Enter list rank"
        />
      </div>

      <!-- Upload Section Title -->
      <div class="form-row">
        <label class="section-label">Upload a file from your computer</label>
      </div>

      <!-- Upload Section -->
      <div class="form-row">
        <div class="form-field file-upload-section">
          <label class="file-label">Upload a File:</label>
          <input
            type="file"
            (change)="onFileSelected($event)"
            class="file-input"
          />
          <div class="error-msg" *ngIf="!selectedFile && fileTouched">
            <small>File is required.</small>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="form-actions">
        <button class="btn cancel-btn" type="button" (click)="onCancel()">
          Cancel
        </button>
        <button class="btn submit-btn" type="submit">Add</button>
      </div>
    </form>
    </div>
  </div>
</div>
